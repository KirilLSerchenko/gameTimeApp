{"version":3,"sources":["../../../src/lib/components/submit/Submit.tsx"],"names":["SubmitRaw","props","handleClick","bind","disabled","isDisabled","className","buttonProps","type","title","disabledTitle","tooltip","showValidationSummaryTooltip","formContext","isFormValid","SubmitValidationSummary","theme","tooltipProps","children","e","preventDefault","onClick","getDisabled","validateForm","BaseInput","Object","assign","defaultProps","ignoreContext","reRendersWhenContextChanges","Submit"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAgBaA,S;;;;;AAWX,qBAAYC,KAAZ,EAAmC;AAAA;;AAAA;;AACjC,mFAAMA,KAAN;AACA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,uDAAnB;AAFiC;AAGlC;;;;6BAEe;AACd,UAAMC,QAAQ,GAAG,KAAKC,UAAL,EAAjB;AACA,aACE,oBAAC,cAAD,eACM,KAAKJ,KADX;AAEE,QAAA,SAAS,YAAM,KAAKA,KAAL,CAAWK,SAAX,GAAuB,KAAKL,KAAL,CAAWK,SAAlC,GAA8C,EAApD,CAFX;AAGE,QAAA,OAAO,EAAE,KAAKJ,WAHhB;AAIE,QAAA,QAAQ,EAAEE,QAJZ;AAKE,QAAA,WAAW,oBACN,KAAKH,KAAL,CAAWM,WADL;AAETC,UAAAA,IAAI,EAAE,QAFG;AAGTC,UAAAA,KAAK,EAAEL,QAAQ,GAAG,KAAKH,KAAL,CAAWS,aAAd,GAA8B,KAAKT,KAAL,CAAWM,WAAX,IAA0B,KAAKN,KAAL,CAAWM,WAAX,CAAuBE;AAHrF,UALb;AAUE,QAAA,OAAO,EAAE,KAAKR,KAAL,CAAWU,OAAX,GACP,KAAKV,KAAL,CAAWU,OADJ,GAGP,KAAKV,KAAL,CAAWW,4BAAX,IAA2C,CAAC,KAAKX,KAAL,CAAWY,WAAX,CAAuBC,WAAnE,IAAkF,oBAAC,+CAAD;AAChF,UAAA,KAAK,EAAC,SAD0E;AAEhF,UAAA,MAAM,EAAC,kBAFyE;AAGhF,UAAA,kBAAkB,EAAC,EAH6D;AAIhF,UAAA,eAAe,EAAC,iCAJgE;AAKhF,UAAA,eAAe,EAAC,iCALgE;AAMhF,UAAA,SAAS,EAAEC,gCANqE;AAOhF,UAAA,WAAW,EAAE,KAAKd,KAAL,CAAWY;AAPwD,UAbtF;AAsBE,QAAA,YAAY;AACVG,UAAAA,KAAK,EAAE;AADG,WAEP,KAAKf,KAAL,CAAWgB,YAFJ;AAtBd,UA2BG,KAAKhB,KAAL,CAAWiB,QA3Bd,CADF;AA+BD;;;gCAEmBC,C,EAAwC;AAC1DA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKnB,KAAL,CAAWoB,OAAX,IAAsB,KAAKpB,KAAL,CAAWoB,OAAX,CAAmBF,CAAnB,CAAtB;AACD;;;iCAEoB;AACnB,UAAMf,QAAQ,GAAG,KAAKkB,WAAL,EAAjB;AACA,aAAOlB,QAAQ,GACbA,QADa,GAGZ,KAAKH,KAAL,CAAWsB,YAAX,IAA2B,KAAKtB,KAAL,CAAWY,WAAtC,GAAoD,CAAC,KAAKZ,KAAL,CAAWY,WAAX,CAAuBC,WAA5E,GAA0F,KAH7F;AAID;;;;EA9D4BU,qB;;;;gBAAlBxB,S,kBACkByB,MAAM,CAACC,MAAP,CAC3B,EAD2B,EAE3BF,sBAAUG,YAFiB,EAG3B;AACEJ,EAAAA,YAAY,EAAE,IADhB;AAEEK,EAAAA,aAAa,EAAE,IAFjB;AAGEC,EAAAA,2BAA2B,EAAE,IAH/B;AAIEjB,EAAAA,4BAA4B,EAAE;AAJhC,CAH2B,C;;AAgExB,IAAMkB,MAAM,GAAG,sCAA6C9B,SAA7C,CAAf;;eAEQ8B,M","sourcesContent":["ï»¿// Libs\r\nimport * as React from 'react';\r\nimport { BaseInputProps, BaseInputState, BaseInput } from '../base/input/BaseInput';\r\nimport { Button, ButtonProps } from '../button/Button';\r\nimport { withFormContext } from '../form/withFormContext';\r\nimport { OmitFormContext } from '../form/FormContext';\r\nimport { FormValidationSummaryRaw } from './../form/FormValidationSummary';\r\nimport SubmitValidationSummary from './subComponents/SubmitValidationSummary';\r\n\r\n// Misc\r\n\r\ntype SubmitRawProps = BaseInputProps<never> & ButtonProps & {\r\n  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => void;\r\n  validateForm?: boolean;\r\n  disabledTitle?: string;\r\n  showValidationSummaryTooltip?: boolean;\r\n};\r\n\r\nexport type SubmitProps = OmitFormContext<SubmitRawProps>;\r\n\r\nexport interface SubmitState extends BaseInputState {\r\n}\r\n\r\nexport class SubmitRaw extends BaseInput<SubmitRawProps, SubmitState, never>  {\r\n  public static defaultProps = Object.assign(\r\n    {},\r\n    BaseInput.defaultProps,\r\n    {\r\n      validateForm: true,\r\n      ignoreContext: true,\r\n      reRendersWhenContextChanges: true,\r\n      showValidationSummaryTooltip: true\r\n    });\r\n\r\n  constructor(props: SubmitRawProps) {\r\n    super(props);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  public render() {\r\n    const disabled = this.isDisabled();\r\n    return (\r\n      <Button\r\n        {...this.props}\r\n        className={`${(this.props.className ? this.props.className : '')}`}\r\n        onClick={this.handleClick}\r\n        disabled={disabled}\r\n        buttonProps={{\r\n          ...this.props.buttonProps,\r\n          type: 'submit',\r\n          title: disabled ? this.props.disabledTitle : this.props.buttonProps && this.props.buttonProps.title\r\n        }}\r\n        tooltip={this.props.tooltip ?\r\n          this.props.tooltip\r\n          :\r\n          this.props.showValidationSummaryTooltip && !this.props.formContext.isFormValid && <FormValidationSummaryRaw\r\n            title=\"Hang on\"\r\n            footer=\"... needs fixing\"\r\n            containerClassName=\"\"\r\n            headerClassName=\"submitValidationSummary__header\"\r\n            footerClassName=\"submitValidationSummary__footer\"\r\n            Component={SubmitValidationSummary}\r\n            formContext={this.props.formContext}\r\n          />}\r\n        tooltipProps={{\r\n          theme: 'validation',\r\n          ...this.props.tooltipProps\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </Button >\r\n    );\r\n  }\r\n\r\n  private handleClick(e: React.MouseEvent<HTMLButtonElement>) {\r\n    e.preventDefault();\r\n    this.props.onClick && this.props.onClick(e);\r\n  }\r\n\r\n  private isDisabled() {\r\n    const disabled = this.getDisabled();\r\n    return disabled ?\r\n      disabled\r\n      :\r\n      (this.props.validateForm && this.props.formContext ? !this.props.formContext.isFormValid : false);\r\n  }\r\n}\r\n\r\nexport const Submit = withFormContext<SubmitRawProps, SubmitProps>(SubmitRaw);\r\n\r\nexport default Submit;\r\n"],"file":"Submit.js"}